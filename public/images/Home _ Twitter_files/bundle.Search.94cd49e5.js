(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{"+RfI":function(e,t,a){"use strict";var r=a("ERkP"),n=a("Lsrn"),s=a("k/Ka");const c=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[n.a.root,e.style],viewBox:"0 0 24 24"},r.createElement("g",null,r.createElement("path",{d:"M2 7.75h9.326c.356 1.986 2.087 3.5 4.174 3.5s3.818-1.514 4.174-3.5H22c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-2.326c-.356-1.986-2.087-3.5-4.174-3.5s-3.818 1.514-4.174 3.5H2c-.414 0-.75.336-.75.75s.336.75.75.75zm13.5-3.5c1.517 0 2.75 1.233 2.75 2.75s-1.233 2.75-2.75 2.75S12.75 8.517 12.75 7s1.233-2.75 2.75-2.75zm6.5 12h-9.326c-.356-1.986-2.087-3.5-4.174-3.5s-3.818 1.514-4.174 3.5H2c-.414 0-.75.336-.75.75s.336.75.75.75h2.326c.356 1.986 2.087 3.5 4.174 3.5s3.818-1.514 4.174-3.5H22c.414 0 .75-.336.75-.75s-.336-.75-.75-.75zm-13.5 3.5c-1.517 0-2.75-1.233-2.75-2.75s1.233-2.75 2.75-2.75 2.75 1.233 2.75 2.75-1.233 2.75-2.75 2.75z"})));c.metadata={width:24,height:24},t.a=c},"0E8n":function(e,t,a){"use strict";a.r(t),a.d(t,"SearchScreen",(function(){return Qe}));var r=a("KEM+"),n=a.n(r),s=(a("kYxP"),a("ERkP")),c=a("HPNB"),o=a("es0u"),i=a("zh9S"),l=a("1YZw"),h=a("hqKg"),d=a("3IPs"),u=a("rxPX"),p=a("0KEI"),m=a("v4XE"),S=a("Hw0q");const y=(e,t)=>{const{location:a}=t;return a.query&&a.query.src&&"string"==typeof a.query.src?a.query.src:""},g=(e,t)=>{const{location:a,match:{params:r}}=t;return r&&r.unsafeHashtagQuery&&"string"==typeof r.unsafeHashtagQuery?`#${r.unsafeHashtagQuery}`:a&&a.query&&a.query.q&&Object(S.a)(a.query.q)||""},b=(e,t)=>{const{location:a}=t;return 0===a.pathname.indexOf("/search")?"search":"hashtag"},E=(e,t)=>!!(t.location.state||{}).searchFocused,v=Object(h.createSelector)(Object(S.b)("pf"),Object(S.b)("lf"),((e,t)=>({peopleFilter:e,locationFilter:t})));var f=Object(u.a)().propsFromState((()=>({searchFocused:E,query:g,querySrc:y,isQueryAlreadySaved:Object(h.createSelector)(g,m.d,((e,t)=>t.map((e=>e.query)).indexOf(e)>-1)),searchType:b,searchFilters:v,mode:d.j,savedSearches:m.d,vertical:Object(S.b)("vertical")}))).propsFromActions((()=>({addToast:l.b,createLocalApiErrorHandler:Object(p.d)("SEARCH_SCREEN"),deleteSavedSearch:m.a,fetchSavedSearchesIfNeeded:m.b,saveSearch:m.c,scribeAction:i.c}))).withAnalytics({page:"search"}),_=a("sYRn"),C=a("3XMw"),w=a.n(C),x=a("oQhu"),T=a("2G3J"),O=a("yoO3"),k=a("7nmT"),I=a.n(k),R=a("5FtR"),A=a("Rp9C"),F=a("7JQg"),q=a("L7to");a("muX9");w.a.a8399d5b,w.a.ge893905;var H=a("mjJ+"),D=a("3A2y"),L="searchFilters-overflow",P="advancedSearch-overflow",j="searchSettings-overflow",M="saveSearch-overflow",U="deleteSavedSearch-overflow",V=a("+RfI"),z=a("VwDm"),B=a("M2x3"),N=a("g9w/"),Q=a("hiGS");const $=w.a.h1ef00db,X=w.a.aea62567,W=w.a.j622effd,J=w.a.h4912b5e,K=w.a.b9bc69ca;class Y extends s.Component{constructor(...e){super(...e),n()(this,"_getActionItems",(()=>{const{deleteSavedSearch:e,isLoggedIn:t,isTwoColumn:a,isQueryAlreadySaved:r,location:n,saveSearch:s}=this.props,c=[];return a||c.push({Icon:V.a,testID:L,text:X,link:{pathname:"/i/search_filters",query:n.query}}),c.push({Icon:z.a,testID:P,text:W,link:{pathname:"/search-advanced",query:{...Object(D.a)(n.query,["q","src"])}}}),t&&(c.unshift({Icon:B.a,testID:j,text:$,link:"/settings/search"}),r?c.push({Icon:Q.a,isEmphasized:!0,testID:U,text:K,onClick:t=>{t(),e()}}):c.push({Icon:N.a,testID:M,text:J,onClick:e=>{e(),s()}})),c}))}render(){return s.createElement(H.a,{items:this._getActionItems(),onCloseRequested:this.props.onClose})}}var Z=Y,G=a("VS6U"),ee=a("LsPn"),te="searchBoxOverflowButton",ae=a("aITJ"),re=a("MWbm"),ne=a("v6aA");const se=w.a.f9d35b98,ce=w.a.ha925ad3,oe=w.a.h0a9931b,ie={customErrorHandler:()=>Object(l.b)({text:ce}),showToast:!0},le={customErrorHandler:()=>Object(l.b)({text:se}),showToast:!0},he={customErrorHandler:()=>Object(l.b)({text:oe}),showToast:!0};var de=a("cHvH"),ue=a("6vad"),pe=a("k/OQ"),me=a("8Lfv");const Se=(e,t)=>"POP"===t.history.action,ye=(e,t)=>{var a;const{location:r}=t;return null==r||null==(a=r.state)?void 0:a.urtEndpointOptions};var ge=Object(u.a)().propsFromState((()=>({dataLookupId:d.i,isBackNavigation:Se,searchMode:d.j,urtEndpointOptions:ye}))).propsFromActions((()=>({clearTimelineCache:({module:e,fetchOptions:t})=>Object(me.a)(e,t),createLocalApiErrorHandler:Object(p.d)("SEARCH_RESULTS_SCREEN"),googleAnalyticsPageView:i.a,scribePageImpression:i.d}))),be=a("s14A"),Ee=a("dwig"),ve=a("3X8/"),fe=a("0+qk"),_e=a("Ds5i"),Ce=a.n(_e),we=a("h2mu"),xe=a("i6OR"),Te=a("pQ3Z"),Oe=a.n(Te);const ke=e=>e&&Ce()(e)?{defaultText:` ${e}`,positionCursorAtBeginning:!0}:void 0,Ie=Object(x.a)(((e,t,a)=>({...e,section:`search_filter_${t}${a===d.d.Topics?"_topics":""}`})));class Re extends s.Component{constructor(...e){super(...e),n()(this,"_getFabState",(()=>{const{query:e}=this.props;return ke(e)})),n()(this,"_getTimelineScribeNamespace",(()=>{const{scribeNamespace:e,searchMode:t,vertical:a}=this.props;return Ie(e,t,a)}))}componentDidMount(){const{googleAnalyticsPageView:e,isBackNavigation:t,scribePageImpression:a}=this.props;a(this._getTimelineScribeNamespace()),e(this._getTimelineScribeNamespace()),t||this._clearTimelineCache()}componentDidUpdate(e){const{isBackNavigation:t,query:a,querySrc:r,searchFilters:n}=this.props;t||e.query===a&&e.querySrc===r&&Oe()(e.searchFilters,n)||this._clearTimelineCache()}render(){const{searchFocused:e,query:t,searchFilters:a,querySrc:r,searchMode:n,urtEndpointOptions:c,vertical:o}=this.props,{featureSwitches:i,loggedInUserId:l}=this.context,h=!(!l||!i.isTrue("voice_rooms_search_results_page_audiospace_ring_enabled"));return s.createElement(Ee.a,{component:be.a,fab:this._renderFloatingComposeButton(),shouldRenderFab:!e},s.createElement(F.b,{namespace:this._getTimelineScribeNamespace()},s.createElement(we.a,{fetchOptions:this._getFetchOptions(),query:t,querySrc:r,searchFilters:a,searchMode:n,urtEndpointOptions:c,vertical:o,withUserPresence:h})))}_renderFloatingComposeButton(){const{history:e}=this.props;return s.createElement(fe.a,{getLocationState:this._getFabState,history:e})}_getFetchOptions(){const{querySrc:e,dataLookupId:t}=this.props;return{query_source:e,data_lookup_id:t}}_clearTimelineCache(){const{clearTimelineCache:e,createLocalApiErrorHandler:t,query:a,querySrc:r,searchMode:n,searchFilters:s,urtEndpointOptions:c}=this.props;e({module:Object(xe.b)({query:a,querySource:r,searchMode:n,searchFilters:s,urtEndpointOptions:c}),fetchOptions:this._getFetchOptions()}).catch(t(ve.a))}}n()(Re,"contextType",ne.a);var Ae=Object(F.c)({page:"search",section:"universal"})(ge(Re));const Fe=w.a.eb0ecd1d,qe=w.a.cceeb26b,He=w.a.i66136a9,De=w.a.d601fc2f,Le=w.a.g2fd3205,Pe=w.a.ac4fb0f3,je=w.a.a9ae1e78,Me=w.a.bb967f9e,Ue=w.a.aea62567,Ve=w.a.gfcfbf8b,ze=w.a.a4645d91,Be=[{type:d.c.Top,label:He},{type:d.c.Live,label:De},{type:d.c.User,label:Le},{type:d.c.Image,label:Pe},{type:d.c.Video,label:Me}],Ne=Object(x.a)(((e,t,a,r,n,s,c)=>Be.map((o=>{const i=d.h[o.type];return{link:Object(d.e)({query:e,querySrc:t,modeValue:i,searchType:a,searchFilters:r,vertical:s}),isActive:c(i,n),label:o.label,modeType:o.type}}))));class Qe extends s.Component{constructor(...e){super(...e),n()(this,"state",{shouldShowDeleteSearchConfirmation:!1}),n()(this,"_getScribeData",Object(x.a)(((e,t,a,r,n)=>({search_details:{...Object(d.f)({query:e,querySrc:t,searchFilters:a,modeValue:r,vertical:n})}})))),n()(this,"_renderRightControl",(({isTwoColumn:e,searchFocused:t})=>e||!t?s.createElement(T.a,{onClick:this._handleOverflowMenuClick,renderMenu:this._renderMenu,testID:te}):void 0)),n()(this,"_renderMenu",(e=>{const{history:t,location:a,isQueryAlreadySaved:r}=this.props,n=!!this.context.loggedInUserId;return s.createElement(de.a,null,(({windowWidth:o})=>{const i=c.a.isTwoColumnLayout(o);return s.createElement(Z,{deleteSavedSearch:this._onDeleteSavedSearchMenuClick,history:t,isLoggedIn:n,isQueryAlreadySaved:r,isTwoColumn:i,location:a,onClose:e,saveSearch:this._onSaveSearch})}))})),n()(this,"_onSaveSearch",(()=>{const{addToast:e,analytics:t,createLocalApiErrorHandler:a,query:r,saveSearch:n,savedSearches:s}=this.props,c=s.length;r&&n(r).then((()=>e({text:Ve}))).catch(a(c<25?ie:le));const o=A.a.forSavedSearchResult(r,c);t.scribe({element:"saved_search",action:"add",data:{items:[o]}})})),n()(this,"_handleOnDeleteSavedSearchConfirm",(()=>{const{addToast:e,analytics:t,createLocalApiErrorHandler:a,deleteSavedSearch:r,query:n,savedSearches:s}=this.props,c=s.findIndex((e=>e.query===n)),o=s[c];if(o){r(o.id_str).then((()=>e({text:ze}))).catch(a(he));const n=A.a.forSavedSearchResult(o.query,c);t.scribe({element:"saved_search",action:"delete",data:{items:[n]}}),this.setState({shouldShowDeleteSearchConfirmation:!1})}})),n()(this,"_handleOnDeleteSavedSearchCancel",(()=>{this.setState({shouldShowDeleteSearchConfirmation:!1})})),n()(this,"_onDeleteSavedSearchMenuClick",(()=>{this.setState({shouldShowDeleteSearchConfirmation:!0})})),n()(this,"_handleOverflowMenuClick",(()=>{const{analytics:e}=this.props;e.scribe({element:"overflow_menu",action:"click"})})),n()(this,"_renderPrimaryContent",(e=>{const{shouldShowDeleteSearchConfirmation:t}=this.state;return s.createElement(re.a,null,s.createElement(Ae,e),t?s.createElement(_.a,{onCancel:this._handleOnDeleteSavedSearchCancel,onConfirm:this._handleOnDeleteSavedSearchConfirm}):null)})),n()(this,"_renderSidebarContent",(()=>{const{history:e,location:t,query:a}=this.props;return s.createElement(o.a,{withSearchBox:!1,withTrends:!!a},s.createElement(re.a,null,s.createElement(ue.b,{text:Ue}),s.createElement(q.b,{history:e,key:t.key,location:t})))})),n()(this,"_renderModesBar",(()=>{const{analytics:e}=this.props,{contextualScribeNamespace:t}=e,a=this._getModeLinks().map((a=>{const{isActive:r,label:n,link:s,modeType:c}=a;return{isActive:r,key:c,to:s,label:n,onClick:()=>{r()||e.scribe({...t,element:`search_filter_${c}`,action:"navigate"})}}}));return s.createElement(pe.a,{links:a})})),n()(this,"_getModeLinks",(()=>{const{query:e,querySrc:t,searchType:a,searchFilters:r,mode:n,vertical:s}=this.props;return Ne(e,t,a,r,n,s,((e,t)=>()=>d.h[t]===e))})),n()(this,"_setSearchBoxRef",(e=>{this._searchBoxRef=e})),n()(this,"_handleSoftLeftClick",(()=>{const e=I.a.findDOMNode(this._searchBoxRef);e&&e instanceof window.HTMLElement&&e.querySelector("input").focus()})),n()(this,"_handleSearchBoxSubmit",(()=>{const{analytics:e}=this.props;e.scribe({section:"trendsplus",action:"search"})}))}componentDidMount(){const{createLocalApiErrorHandler:e,fetchSavedSearchesIfNeeded:t}=this.props;t().catch(e({}))}render(){const{location:e,searchFocused:t,query:a,querySrc:r,mode:n,searchFilters:o,searchType:i,history:l,vertical:h}=this.props,d=!!a,u=d?qe({query:a}):Fe,p={history:l,location:e,query:a,querySrc:r,searchFilters:o,searchFocused:t,vertical:h},m={initialValue:a,mode:n,onSubmit:this._handleSearchBoxSubmit,searchFilters:o},S=this._renderPrimaryContent(p);return d?s.createElement(F.b,{data:this._getScribeData(a,r,o,n,h)},s.createElement(O.a,null,null,s.createElement(de.a,null,(({windowWidth:e})=>{const r=c.a.isTwoColumnLayout(e),n=this._renderRightControl({isTwoColumn:r,searchFocused:t});return s.createElement(G.a,{backLocation:"/explore",composeOptions:ke(a),documentTitle:u,history:l,primaryContent:S,rightControl:n,searchBoxOptions:m,searchBoxRef:this._setSearchBoxRef,secondaryBar:this._renderModesBar(),sidebarContent:this._renderSidebarContent(),title:a,withBottomLoginSignupBar:!0,withSearchBox:!0})})),ae.b.isKaiOS()&&s.createElement(ee.a,{leftText:je,onLeftClick:this._handleSoftLeftClick}))):s.createElement(R.a,{to:"/explore"})}}n()(Qe,"contextType",ne.a);const $e=f(Qe);t.default=$e},"3X8/":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a("k49u"),n=a("LVU8"),s=a("3XMw");const c=a.n(s).a.i1801686,o={[r.a.GenericForbidden]:{toast:Object(n.a)()},[r.a.InvalidRequestUrl]:{toast:{text:c,withClearButton:!0}},showToast:!0}},"4ZbN":function(e,t,a){"use strict";t.a={deleteRecentSearchesDialog:"deleteRecentSearchesDialog",deleteSavedSearchDialog:"deleteSavedSearchDialog",typeaheadEmptySearch:"typeaheadEmptySearch",typeaheadRecentSearchesHeader:"typeaheadRecentSearchesHeader",typeaheadRecentSearchesItem:"typeaheadRecentSearchesItem",typeaheadSavedSearchesContainer:"typeaheadSavedSearchesContainer",typeaheadSavedSearchesHeader:"typeaheadSavedSearchesHeader",typeaheadSavedSearchesItem:"typeaheadSavedSearchesItem"}},"8/3a":function(e,t,a){"use strict";var r=a("0mK8"),n=a("ERkP"),s=a("3XMw"),c=a.n(s),o=a("caTy"),i=a("MWbm"),l=a("rHpw"),h=a("t62R"),d=a("yrzJ"),u=a("XrEN"),p=a("Q0VY"),m=a("FiRh");const S=l.a.create((e=>({description:{marginTop:e.spaces.space12}}))),y=(e,t,a)=>a&&!u.a.VIDEO_TYPES.includes(t)?(e=>{var t;const a=e.url?null==(t=Object(o.a)(e.url))?void 0:t.pathname:void 0;return n.createElement(h.c,{color:"gray700",link:a},e.text)})(a):e&&u.a.VIDEO_TYPES.includes(t)?((e,t)=>n.createElement(h.c,{color:"gray700",link:e.permalink},g(t,{screenName:n.createElement(d.a,{screenName:e.user.screen_name})})))(e,t):null,g=(e,t)=>{switch(e){case"animated_gif":return n.createElement(c.a.I18NFormatMessage,{$i18n:"a5d9d070"},t.screenName);case"video":case"vine":return n.createElement(c.a.I18NFormatMessage,{$i18n:"i9606e32"},t.screenName);default:return n.createElement(c.a.I18NFormatMessage,{$i18n:"i1a64d47"},t.screenName)}};var b=({coverTweet:e,description:t,mediaType:a,imageAttribution:r,pivotText:s})=>{const c=t?t.trim():void 0,o=c?p.a.descriptionTextParts(c):[];return n.createElement(i.a,{style:S.description},o.length?n.createElement(h.c,null,o.map(((e,t)=>n.createElement(m.b,{key:`events_textpart_${t}`,linkify:!0,part:e})))):null,y(e,a,r),s?n.createElement(h.c,{color:"gray700"},s):null)},E=a("pjBI");const v=l.a.create((e=>({title:{alignItems:"center",flexDirection:"row",paddingTop:e.spaces.space4},timeString:{flexShrink:0},timeStringMargin:{marginTop:e.spaces.space12}})));t.a=({author:e,coverTweet:t,description:a,imageAttribution:s,mediaType:c,pivotText:o,preTitle:l,time:d,title:u,isTOO:p,withHashflags:m})=>{const S=()=>e?n.createElement(i.a,null,n.createElement(r.a,{author:e,size:"body",withLink:!0,withScreenName:!0}),d?y(!0):null):null,y=(e=!1)=>n.createElement(h.c,{color:"gray700",numberOfLines:1,size:"body",style:[v.timeString,e&&v.timeStringMargin]},d),g=()=>l?n.createElement(E.a,null,n.createElement(h.c,{color:"gray700",numberOfLines:1,size:"body",weight:"bold"},l),d?y():null):null;return n.createElement(n.Fragment,null,p&&l?g():S()||g(),n.createElement(h.c,{dir:"auto",size:"title4",style:v.title,weight:"heavy",withHashflags:m},u),a||t||s?n.createElement(b,{coverTweet:t,description:a,imageAttribution:s,mediaType:c,pivotText:o}):null)}},Ds5i:function(e,t,a){"use strict";var r=a("HJWM");a("M+/F"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e)return!1;var t=(0,n.default)(e);return 1===t.length&&t[0]===e.slice(1)};var n=r(a("nmVb"));e.exports=t.default},L7to:function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var r=a("KEM+"),n=a.n(r),s=(a("MvUL"),a("ERkP")),c=a("3XMw"),o=a.n(c),i=a("RxYA");const l=Object.freeze({People:"People",Location:"Location"});var h="searchFiltersAdvancedSearch",d=a("MWbm"),u=a("Irs7"),p=a("v6aA"),m=a("V2ml"),S=a("rC8y"),y=a("rHpw"),g=a("3A2y"),b=a("Zkey");const E=o.a.j622effd,v=o.a.g2fd3205,f=o.a.defb4aa9,_=o.a.af293dc2,C=o.a.jaaa8984,w=o.a.i5045e73,x=o.a.h2388753,T="anyone",O="youFollow",k="anywhere",I="nearYou",R=[{label:v,name:l.People,options:[{label:f,value:T},{label:_,value:O}]},{label:C,name:l.Location,options:[{label:w,value:k},{label:x,value:I}]}];class A extends s.Component{constructor(e,t){super(e,t),n()(this,"_renderFilters",(()=>R.map(((e,t)=>s.createElement(d.a,{key:e.name,style:t>0&&F.paddingTop},s.createElement(m.a,{label:e.label,name:e.name,onChange:this._handleFilterChange,options:e.options,value:this._getCurrentValue(e.name)})))))),n()(this,"_getCurrentValue",(e=>{switch(e){case l.People:return this.state.peopleFilter;case l.Location:return this.state.locationFilter;default:return""}})),n()(this,"_handleFilterChange",((e,t)=>{const{loggedInUserId:a}=this.context,{location:{query:r}}=this.props;switch(e){case l.People:if(a){this.setState({peopleFilter:t});const e={pf:t===O?"on":void 0,lf:"on"===r.lf?r.lf:void 0};this._executeSearch(e,"people")}else this.setState({shouldShowLoginSheet:!0});break;case l.Location:{this.setState({locationFilter:t});const e={lf:t===I?"on":void 0,pf:"on"===r.pf?r.pf:void 0};this._executeSearch(e,"location");break}}})),n()(this,"_getAdvancedSearchLink",(()=>{const{location:e}=this.props;return{pathname:"/search-advanced",query:{...Object(g.a)(e.query,["q","src"])}}})),n()(this,"_handleFooterPress",(()=>{this._scribeAction("advanced_search")})),n()(this,"_scribeAction",(e=>{const{analytics:t}=this.props;t.scribe({element:e,action:"click"})})),n()(this,"_executeSearch",((e,t)=>{const{history:a,location:r}=this.props;this._scribeAction(t);const n=this._getPathname();a.replace({pathname:n,query:Object(b.a)({...r.query,...e})})})),n()(this,"_getPathname",(()=>{const{location:e}=this.props;if(e.pathname.includes("/hashtag/"))return e.pathname;if(e.state&&e.state.previousPath&&e.state.previousPath.includes("/hashtag/")&&"/search"!==e.pathname){const t=e.state.previousPath,a=t.indexOf("?")>-1?t.indexOf("?"):t.length-1;return t.substring(0,a)}return"/search"})),n()(this,"_handleHideLoginSheet",(()=>{this.setState({shouldShowLoginSheet:!1})}));const{loggedInUserId:a}=this.context,{location:r}=e,c=r.query,o=a&&c&&c.pf?O:T,i=c&&c.lf?I:k;this.state={peopleFilter:o,locationFilter:i,shouldShowLoginSheet:!1}}componentDidMount(){const{analytics:e}=this.props;e.scribe({action:"impression"})}render(){const{withBottomBorder:e}=this.props,{shouldShowLoginSheet:t}=this.state;return s.createElement(d.a,null,s.createElement(d.a,{style:F.content},this._renderFilters()),s.createElement(d.a,{style:[e&&F.bottomBorder],testID:h},s.createElement(S.a,{link:this._getAdvancedSearchLink(),onPress:this._handleFooterPress,text:E})),t?s.createElement(i.a,{onClose:this._handleHideLoginSheet}):null)}}n()(A,"contextType",p.a),n()(A,"defaultProps",{withBottomBorder:!1});const F=y.a.create((e=>({content:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingBottom:e.spaces.space16},bottomBorder:{borderBottomColor:e.colors.gray50,borderBottomStyle:"solid",borderBottomWidth:e.borderWidths.small},paddingTop:{paddingTop:e.spaces.space4}})));t.b=Object(u.a)(A,{page:"search_filters"})},PH3B:function(e,t,a){"use strict";var r=a("ezF+"),n=a("VPAj"),s=a("caTy"),c=a("zh9S"),o=a("P1r1"),i=(e,t)=>r.f({isFocusable:Object(n.a)(!0),component:e,bindActions:Object(n.a)({scribe:c.c}),selectData:()=>({dataSaverMode:o.k}),createProps:({data:{dataSaverMode:e},entry:a,actions:{scribe:r},scribeNamespace:n})=>{const{content:c}=a,o=c.landingUrl&&Object(s.b)(c.landingUrl),i=t({content:c});return{...{author:c.author,link:o,originalImage:e?void 0:c.originalImage,onClick:()=>{r({...n,action:"click"},void 0)},title:c.title},...i}}}),l=a("0mK8"),h=a("ERkP"),d=a("zOwA"),u=a("MWbm"),p=a("htQn"),m=a("t62R"),S=a("9Xij"),y=a("TIdA"),g=a("A91F"),b=a("rHpw");const E="100px",v="70px",f=b.a.create((e=>({root:{flexDirection:"row",paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},coverImage:{height:"100%",width:"100%"},coverContainer:{backgroundColor:e.colors.gray200,borderRadius:e.borderRadii.xLarge,height:"15%",maxHeight:E,maxWidth:E,minHeight:v,minWidth:v,overflow:"hidden",width:"15%"},details:{flex:1,marginRight:e.spaces.space12},title:{marginHorizontal:0,marginVertical:e.spaces.space2}})));var _=i((({author:e,contextImage:t,contextLabel:a,link:r,onClick:n,originalImage:s,title:c})=>h.createElement(p.a,{link:r,onClick:n,style:f.root},h.createElement(u.a,{style:f.details},h.createElement(m.c,{color:"gray700",size:"subtext2"},e),h.createElement(m.c,{style:f.title,weight:"bold"},c),a?h.createElement(d.a,{image:t,label:a,textSize:"subtext2"}):null),h.createElement(u.a,{style:f.coverContainer},h.createElement(S.a,{ratio:1},s?h.createElement(y.a,{accessibilityLabel:"",aspectMode:g.a.SQUARE,image:s}):h.createElement(l.c,{icon:"news"}))))),(({content:{socialProof:e}})=>{const t=e&&e.generalContext||void 0;return{contextImage:t&&t.contextImageUrls&&t.contextImageUrls[0],contextLabel:t&&t.text}}));var C=Object.freeze({Cell:"Cell",PreviewCard:"PreviewCard"}),w=a("8/3a");const x=b.a.create((e=>({contentContainer:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},coverContainer:{backgroundColor:e.colors.gray200,height:"100%",overflow:"hidden",width:"100%"}})));var T=i((({author:e,description:t,link:a,onClick:r,originalImage:n,pivotText:s,title:c})=>h.createElement(p.a,{link:a,onClick:r},h.createElement(u.a,{style:x.coverContainer},h.createElement(S.a,{ratio:16/9},n?h.createElement(y.a,{accessibilityLabel:"",aspectMode:g.a.COVER,image:n}):h.createElement(l.c,{icon:"news"}))),h.createElement(u.a,{style:x.contentContainer},h.createElement(w.a,{description:t,pivotText:s,preTitle:e,title:c})))),(({content:{description:e,pivotText:t}})=>({description:e,pivotText:t})));t.a=r.b({selectDisplayType:e=>e.content.newsDisplayType,handlers:{[C.Cell]:_,[C.PreviewCard]:T}})},"g9w/":function(e,t,a){"use strict";var r=a("ERkP"),n=a("Lsrn"),s=a("k/Ka");const c=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[n.a.root,e.style],viewBox:"0 0 24 24"},r.createElement("g",null,r.createElement("path",{d:"M16 11.25h-3.25V8c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.25H8c-.414 0-.75.336-.75.75s.336.75.75.75h3.25V16c0 .414.336.75.75.75s.75-.336.75-.75v-3.25H16c.414 0 .75-.336.75-.75s-.336-.75-.75-.75z"}),r.createElement("path",{d:"M12 22.75C6.072 22.75 1.25 17.928 1.25 12S6.072 1.25 12 1.25 22.75 6.072 22.75 12 17.928 22.75 12 22.75zm0-20C6.9 2.75 2.75 6.9 2.75 12S6.9 21.25 12 21.25s9.25-4.15 9.25-9.25S17.1 2.75 12 2.75z"})));c.metadata={width:24,height:24},t.a=c},h2mu:function(e,t,a){"use strict";var r=a("KEM+"),n=a.n(r),s=(a("kYxP"),a("ERkP")),c=a("ezF+"),o=a("VPAj"),i=a("QIgh"),l=a("8UdT"),h=a("iu0J"),d=a("zgaL"),u=a("PH3B"),p=a("u3ZE"),m=a("htQn"),S=a("t62R"),y=a("rHpw");class g extends s.PureComponent{render(){const{searchTerm:e}=this.props,t={pathname:"/search",query:{q:e,src:p.a.RelatedQueryClick}};return s.createElement(m.a,{link:t,style:b.link},s.createElement(S.c,null,e))}}const b=y.a.create((e=>({link:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical}})));var E=g,v=a("zh9S"),f=Object.freeze({Expand:"Expand",Replace:"Replace",Suggest:"Suggest"}),_=a("X04g"),C=a("MWbm"),w=a("3XMw"),x=a.n(w);const T=x.a.je5502ea,O=x.a.bc4628a0,k=e=>s.createElement(S.c,{weight:"bold"},e);class I extends s.PureComponent{render(){const{suggestion:e}=this.props,t={pathname:"/search",query:{q:e,src:p.a.SpellingSuggestionClick}};return s.createElement(S.c,{link:t,style:F.root},s.createElement(x.a.I18NFormatMessage,{$i18n:"hce48b8a"},k(e)))}}class R extends s.PureComponent{render(){const{onClick:e,original:t,suggestion:a}=this.props,r={pathname:"/search",query:{q:a,src:p.a.SpellingCorrectionClick}};return s.createElement(C.a,{style:F.root},s.createElement(S.c,{weight:"bold"},O({suggestion:a})),s.createElement(S.c,{link:r,onClick:e},s.createElement(x.a.I18NFormatMessage,{$i18n:"h36fe5c9"},k(t))))}}class A extends s.PureComponent{render(){const{onClick:e,original:t,suggestion:a}=this.props,r={pathname:"/search",query:{q:t,src:p.a.SpellingExpansionRevertClick}};return s.createElement(C.a,{style:F.root},s.createElement(S.c,{weight:"bold"},T({suggestion:a})),s.createElement(S.c,{link:r,onClick:e},s.createElement(x.a.I18NFormatMessage,{$i18n:"h36fe5c9"},k(t))))}}const F=y.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical}}))),q=e=>t=>({item_type:_.a.ItemType.SEARCH,name:`spelling_${e}`,description:t.content.spellingResult.text,position:0}),H=e=>({items:[{search_details:{query:e.content.originalQuery},query_details:{query_item:e.content.spellingResult.text}}]}),D=({shouldStoreTypeaheadItem:e})=>({[l.b.News]:u.a,[l.b.EventSummary]:Object(h.a)({errorContext:"SEARCH_SCREEN",shouldStoreTypeaheadItem:e}),[l.b.RelatedSearch]:c.d(c.f({component:E,selectData:Object(o.a)({}),createProps:({entry:e})=>{const{content:{relatedSearch:t}}=e;return{searchTerm:t.text}}})),[l.b.FollowSearch]:c.d(c.a()),[l.b.FollowSearchAction]:c.d(c.a()),[l.b.Place]:c.d(c.a()),[l.b.MomentAnnotation]:d.a,[l.b.Spelling]:c.b({selectDisplayType:e=>e.content.spellingAction,handlers:{[f.Expand]:c.f({bindActions:()=>({scribe:v.c}),component:A,divider:{top:!0,bottom:!0},getScribeDataItem:q("expansion"),selectData:Object(o.a)({}),createProps:({entry:e,actions:{scribe:t},scribeNamespace:a})=>{const{content:{originalQuery:r,spellingResult:n}}=e;return{onClick:()=>t({...a,element:"expansion_revert",action:"search"},H(e)),original:r,suggestion:n.text}}}),[f.Replace]:c.f({bindActions:()=>({scribe:v.c}),component:R,divider:{top:!0,bottom:!0},getScribeDataItem:q("replacement"),selectData:Object(o.a)({}),createProps:({entry:e,actions:{scribe:t},scribeNamespace:a})=>{const{content:{originalQuery:r,spellingResult:n}}=e;return{onClick:()=>t({...a,element:"replacement_revert",action:"search"},H(e)),original:r,suggestion:n.text}}}),[f.Suggest]:c.f({component:I,divider:{top:!0,bottom:!0},getScribeDataItem:q("suggestion"),selectData:Object(o.a)({}),createProps:({entry:e})=>{const{content:{spellingResult:t}}=e;return{suggestion:t.text}}})}})});var L=({shouldStoreTypeaheadItem:e,withUserPresence:t})=>({...Object(i.a)({tweetDismissable:!0,displayBlocked:!0,shouldStoreTypeaheadItem:e,withUserPresence:t}),...D({shouldStoreTypeaheadItem:e})}),P=a("3X8/"),j=a("oQhu"),M=a("EUHl"),U=a("7BdX"),V=a("fTQJ"),z=a("i6OR"),B=a("FIs5"),N=a("v6aA");const Q=x.a.c09de2d4,$=s.createElement(x.a.I18NFormatMessage,{$i18n:"f0089e9c"},s.createElement(S.c,{link:"/settings/search"},x.a.d2918e88)),X=x.a.ae111c99,W=Object(j.a)(((e,t,a,r,n,s)=>Object(z.b)({query:e,searchMode:a,querySource:t,searchFilters:r,vertical:n,urtEndpointOptions:s})));class J extends s.Component{constructor(...e){super(...e),n()(this,"_shouldStoreTypeaheadItem",(e=>{switch(e){case _.a.ItemType.USER:return this.context.featureSwitches.isTrue("responsive_web_recent_searches_users_enabled");case _.a.ItemType.TOPIC:return this.context.featureSwitches.isTrue("responsive_web_recent_searches_topics_enabled");case _.a.ItemType.EVENT:return this.context.featureSwitches.isTrue("responsive_web_recent_searches_events_enabled");default:return!1}})),n()(this,"_getModule",(()=>{const{query:e,querySrc:t,searchMode:a,searchFilters:r,vertical:n,urtEndpointOptions:s}=this.props;return W(e,t,a,r,n,s)})),n()(this,"_renderEmptyTimeline",(()=>{const{query:e,emptyStateComponent:t}=this.props;return t||s.createElement(B.a,{header:X({query:e}),message:$})}))}render(){return s.createElement(V.a,{apiErrorHandlerMap:P.a,entryConfiguration:L({shouldStoreTypeaheadItem:this._shouldStoreTypeaheadItem,withUserPresence:this.props.withUserPresence}),fetchOptions:this.props.fetchOptions,module:this._getModule(),newTweetsPillMode:M.a.CLIENT,prerollDisplayLocation:U.c.SEARCH_TWEETS,renderEmptyState:this._renderEmptyTimeline,title:Q,withUserPresence:this.props.withUserPresence})}}n()(J,"contextType",N.a);t.a=J},hiGS:function(e,t,a){"use strict";var r=a("ERkP"),n=a("Lsrn"),s=a("k/Ka");const c=(e={})=>Object(s.a)("svg",{...e,accessibilityHidden:void 0===e.accessibilityLabel,style:[n.a.root,e.style],viewBox:"0 0 24 24"},r.createElement("g",null,r.createElement("path",{d:"M20.746 5.236h-3.75V4.25c0-1.24-1.01-2.25-2.25-2.25h-5.5c-1.24 0-2.25 1.01-2.25 2.25v.986h-3.75c-.414 0-.75.336-.75.75s.336.75.75.75h.368l1.583 13.262c.216 1.193 1.31 2.027 2.658 2.027h8.282c1.35 0 2.442-.834 2.664-2.072l1.577-13.217h.368c.414 0 .75-.336.75-.75s-.335-.75-.75-.75zM8.496 4.25c0-.413.337-.75.75-.75h5.5c.413 0 .75.337.75.75v.986h-7V4.25zm8.822 15.48c-.1.55-.664.795-1.18.795H7.854c-.517 0-1.083-.246-1.175-.75L5.126 6.735h13.74L17.32 19.732z"}),r.createElement("path",{d:"M10 17.75c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75zm4 0c.414 0 .75-.336.75-.75v-7c0-.414-.336-.75-.75-.75s-.75.336-.75.75v7c0 .414.336.75.75.75z"})));c.metadata={width:24,height:24},t.a=c},i6OR:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a("u3ZE"),n=a("3IPs"),s=a("ZNT5"),c=a("eR3e");const o="search-",i=" near:me",l={[n.c.Top]:{},[n.c.Live]:{tweet_search_mode:n.c.Live},[n.c.User]:{result_filter:n.c.User},[n.c.Image]:{result_filter:n.c.Image},[n.c.Video]:{result_filter:n.c.Video}},h=e=>(e=>e===r.a.SpellingCorrectionRevertClick||e===r.a.SpellingExpansionRevertClick)(e)?"-revert":"",d=()=>(e,t)=>{e(Object(c.t)(t()).filter((e=>0===e.indexOf(o))).map((e=>Object(c.g)(e))))};t.b=({query:e,searchMode:t=n.c.Top,querySource:a,searchFilters:r,vertical:c,urtEndpointOptions:o})=>{const d=h(a),u=r&&r.peopleFilter?"searcher_follows":void 0,p=u?"-pf":"",m=r&&r.locationFilter&&!e.includes(i)?`${e} near:me`:e,S=`search-${m}-${t}${d}${p}`;return Object(s.a)({timelineId:S,getEndpoint:e=>e.URT.fetchSearch,getEndpointParams:e=>Object.assign({},null==o?void 0:o.requestParams,{q:m,social_filter:u,vertical:c},l[t],e),context:"FETCH_SEARCH_TIMELINE",isUserRefreshable:!0,perfKey:"search",staleIntervalMs:t===n.c.Live?5e3:void 0,timelineType:"search"})}},kix0:function(e,t,a){"use strict";a.r(t),a.d(t,"SearchFiltersScreen",(function(){return p}));var r=a("97Jx"),n=a.n(r),s=(a("MvUL"),a("ERkP")),c=a("jHSc"),o=a("3XMw"),i=a.n(o),l=a("YeIG"),h=a("L7to"),d=a("Irs7");const u=i.a.aea62567;class p extends s.Component{constructor(e){super(e);const{history:t,location:a}=this.props;Object(l.a)(a.query)&&t.replace("/explore")}render(){const{history:e,location:t}=this.props;return s.createElement(c.b,{documentTitle:u,history:e,title:u},s.createElement(h.a,n()({},this.props,{key:t.key,withBottomBorder:!0})))}}t.default=Object(d.a)(p,{page:"search_filters"})},"l+4e":function(e,t,a){"use strict";var r=a("ERkP"),n=a("rcen"),s=a("rHpw"),c=a("MWbm");const o=s.a.create((e=>({root:{paddingHorizontal:e.componentDimensions.gutterHorizontal,paddingVertical:e.componentDimensions.gutterVertical},text:{overflow:"visible"},headerWithBody:{marginBottom:e.componentDimensions.gutterVertical},textContainer:{alignItems:"center",flexDirection:"row",justifyContent:"space-between",width:"100%"}})));t.a=({header:e={},body:t={},controls:a=null,focusable:s=!0})=>r.createElement(c.a,{focusable:s,style:o.root,tabIndex:"0"},e.text?r.createElement(c.a,{style:o.textContainer},r.createElement(n.c,{entities:e.entities,forceAutoTextDirection:!0,size:"headline1",style:[o.text,t.text&&o.headerWithBody],text:e.text,weight:"bold"}),a):null,t.text?r.createElement(c.a,{style:o.textContainer},r.createElement(n.c,{entities:t.entities,forceAutoTextDirection:!0,style:o.text,text:t.text}),e.text?null:a):null)},nmVb:function(e,t,a){"use strict";var r=a("HJWM");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],a=(0,n.default)(e),r=0;r<a.length;r++)t.push(a[r].hashtag);return t};var n=r(a("yyPN"));e.exports=t.default},sYRn:function(e,t,a){"use strict";var r=a("ERkP"),n=a("eb3s"),s=a("3XMw"),c=a.n(s),o=a("4ZbN");const i=c.a.hffea05c,l=c.a.j037e373,h=c.a.d96cf7cd;t.a=({onCancel:e,onConfirm:t})=>r.createElement(n.a,{confirmButtonLabel:h,confirmButtonType:"destructive",headline:i,onCancel:e,onConfirm:t,testID:o.a.deleteSavedSearchDialog,text:l})},v4XE:function(e,t,a){"use strict";a.d(t,"d",(function(){return m})),a.d(t,"c",(function(){return S})),a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return g}));a("kYxP");var r=a("oEOe"),n=a("kGix"),s=a("Ssj5"),c=a("SrIh"),o=a("RqPI");const i="savedSearches",l={fetchStatus:n.a.NONE,savedSearches:[]},h=Object.freeze({REQUEST:"rweb/savedSearches/FETCH_SAVED_SEARCHES_REQUEST",SUCCESS:"rweb/savedSearches/FETCH_SAVED_SEARCHES_SUCCESS",FAILURE:"rweb/savedSearches/FETCH_SAVED_SEARCHES_FAILURE"}),d=Object.freeze({REQUEST:"rweb/savedSearches/SAVE_SEARCH_REQUEST",SUCCESS:"rweb/savedSearches/SAVE_SEARCH_SUCCESS",FAILURE:"rweb/savedSearches/SAVE_SEARCH_FAILURE"}),u=Object.freeze({REQUEST:"rweb/savedSearches/DELETE_SAVED_SEARCH_REQUEST",SUCCESS:"rweb/savedSearches/DELETE_SAVED_SEARCH_SUCCESS",FAILURE:"rweb/savedSearches/DELETE_SAVED_SEARCH_FAILURE"});function p(e=l,t){switch(t.type){case h.SUCCESS:{const a=t.payload,r=Array.isArray(a);return r||Object(c.a)("Saved search results are not type array",{extra:{savedSearchResultsType:typeof a}}),{...e,fetchStatus:n.a.LOADED,savedSearches:r&&a?a:[]}}case h.FAILURE:return{...e,fetchStatus:n.a.FAILED};case d.SUCCESS:return{...e,savedSearches:t.payload?[...e.savedSearches,t.payload]:e.savedSearches};case u.SUCCESS:return t.payload?{...e,savedSearches:e.savedSearches.filter((e=>e.id_str!==t.payload.id_str))}:e;default:return e}}s.a.register({[i]:p});const m=e=>e.savedSearches.savedSearches,S=e=>(t,a,{api:n})=>Object(r.b)(t,{request:n.SavedSearches.create,params:{query:e}})({actionTypes:d,context:"SAVE_SEARCH"}),y=e=>(t,a,{api:n})=>Object(r.b)(t,{request:n.SavedSearches.destroy,params:{id:e}})({actionTypes:u,context:"DELETE_SAVED_SEARCH"}),g=()=>(e,t,{api:a})=>{const s=t();if(!Object(o.l)(s))return Promise.resolve();return(e=>e.savedSearches.fetchStatus)(s)===n.a.LOADED?Promise.resolve():e(((e,t,{api:a})=>Object(r.b)(e,{request:a.SavedSearches.fetch,params:{}})({actionTypes:h,context:"FETCH_SAVED_SEARCHES"})))}},zgaL:function(e,t,a){"use strict";var r=a("ezF+"),n=(a("ERkP"),a("VPAj")),s=a("l+4e"),c=a("zh9S"),o=a("rHpw");t.a=r.d(r.f({component:s.a,bindActions:()=>({scribe:c.c}),createProps:({entry:e})=>{const{content:t}=e;return{header:t.header,body:t.text}},onImpression:({scribeNamespace:e,scribeData:t,actions:{scribe:a}})=>{a({...e,action:"impression"},t)},divider:{bottom:!o.a.isVdlRefreshEnabled(),top:!0},isFocusable:Object(n.a)(!0)}))}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/bundle.Search.94cd49e5.js.map