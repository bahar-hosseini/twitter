(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"180P":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{const t=(JSON.stringify(e)||"").split("");t.sort();const n=t.join("");return i(n,0).toString()},i=(e,t)=>{const n="string"==typeof e?e:String(e);let a=t;for(let e=0;e<n.length;e++){a=(a<<5)-a+n.charCodeAt(e),a&=a}return a}},I6Uj:function(e,t,n){"use strict";var a=n("97Jx"),i=n.n(a),r=n("KEM+"),o=n.n(r),s=(n("kYxP"),n("ERkP")),c=n("CaKu"),l=n("1YZw"),p=n("rxPX");var d=Object(p.a)().propsFromActions((()=>({addToast:l.b}))).withAnalytics({element:"share"}),u=n("3XMw"),h=n.n(u),m=n("fn9Y"),b=n("/yvb");const g=h.a.c0530da5,f=h.a.ifea3114;var v=({renderMenu:e,onPress:t,style:n,testID:a})=>{const i=s.createElement(m.a,null);return s.createElement(b.a,{accessibilityLabel:g,hoverLabel:{label:f},icon:i,onPress:t,pullRight:!0,renderMenu:e,style:n,testID:a,type:"experimentalText"})},C="share-button",E="share-by-tweet",y=n("TnY3"),w=n("mjJ+"),I=n("rHpw");n("Cm4o");var T=n("I/9y"),S=n("SOvA"),_=n("jwTb");const L=h.a.if23a251,k=h.a.f61c4bbf,x=h.a.fcc684a9,O=h.a.e05c00b4,M=h.a.f88553c8;class N extends s.Component{constructor(...e){super(...e),o()(this,"_handleSharePress",(()=>{const{analytics:e,scribeNamespace:t,scribeNamespaceOverrides:n}=this.props;let a={...t,action:"share_menu_click"};null!=n&&n.share&&(a={...a,...n.share}),e.scribe(a)})),o()(this,"_renderMenu",(e=>{const t=this._getActionItems();return s.createElement(w.a,{isFixed:this.props.isFixed,items:t,onCloseRequested:e,shouldCloseOnClick:!0})})),o()(this,"_getActionItems",(()=>{const e=[];return e.push(this._getTweetShareAction()),e.push(this._getDmShareAction()),c.a.isAvailable()&&e.push(this._getCopyLinkAction()),void 0!==window.navigator.share&&e.push(this._getShareAction()),e})),o()(this,"_getShareAction",(()=>{const{externalShareLabel:e}=this.props;return{text:e,onClick:this._handleShare,Icon:m.a}})),o()(this,"_handleShare",(()=>{const{analytics:e,url:t,scribeNamespace:n,shareText:a}=this.props,i={text:a,url:t};window.navigator.share&&window.navigator.share(i).then((()=>{e.scribe({...n,action:"share_via"})})).catch((()=>{e.scribe({...n,action:"share_error"})}))})),o()(this,"_getCopyLinkAction",(()=>{const{copyLinkShareLabel:e}=this.props;return{text:e,onClick:this._handleCopyLink,Icon:T.a}})),o()(this,"_handleCopyLink",(()=>{const{analytics:e,url:t,addToast:n,scribeNamespace:a,scribeNamespaceOverrides:i}=this.props;c.a.setString((e=>{const t=new URL(e,"https://twitter.com");return t.searchParams.has("s")||t.searchParams.set("s","20"),t.href})(t));let r={...a,action:"copy_link"};null!=i&&i.copyLink&&(r={...r,...i.copyLink}),e.scribe(r),n({text:M})})),o()(this,"_getDmShareAction",(()=>{const{dmShareLabel:e}=this.props;return{text:e,onClick:this._handleDMShare,Icon:S.a}})),o()(this,"_handleDMShare",(()=>{const{analytics:e,history:t,url:n,scribeNamespace:a,scribeNamespaceOverrides:i}=this.props;let r={...a,action:"share_via_dm"};null!=i&&i.dm&&(r={...r,...i.dm}),e.scribe(r),t.push({query:{text:n},pathname:"/messages/compose"})})),o()(this,"_getTweetShareAction",(()=>{const{tweetShareLabel:e}=this.props;return{text:e,onClick:this._handleTweetShare,Icon:_.a,testID:E}})),o()(this,"_handleTweetShare",(()=>{const{analytics:e,history:t,url:n,scribeNamespace:a,shareText:i,scribeNamespaceOverrides:r}=this.props;let o={...a,action:"share_via_tweet"};null!=r&&r.tweet&&(o={...o,...r.tweet}),e.scribe(o),t.push({pathname:"/compose/tweet",query:{text:`${""+(i?` ${i}`:"")} ${n}`},state:{positionCursorAtBeginning:!0}})}))}render(){const{ButtonComponent:e}=this.props;return s.createElement(e,{onPress:this._handleSharePress,renderMenu:this._renderMenu})}}o()(N,"defaultProps",{externalShareLabel:L,dmShareLabel:k,tweetShareLabel:x,copyLinkShareLabel:O,ButtonComponent:function(e){return s.createElement(v,i()({},e,{style:P.button,testID:C}))}});const P=I.a.create((e=>({button:{marginRight:e.spaces.space4}})));t.a=Object(y.a)(d(N))},UZjl:function(e,t,n){"use strict";n("kYxP");var a=n("ERkP"),i=n("es0u"),r=n("hqKg"),o=n("MDbM"),s=n("rxPX");const c=(e,t)=>t.module.selectPageConfiguration(e),l=Object(r.createSelector)(c,((e,t)=>t.module.selectInitialFetchStatus(e)),((e,t)=>t!==o.a.LOADED||!!e&&!!e.tabs));var p=Object(s.a)().propsFromState((()=>({hasTabNavigation:l,pageConfiguration:c}))).withAnalytics(),d=n("QIgh"),u=n("s14A"),h=n("dwig"),m=n("7JQg"),b=n("rHpw"),g=n("GKOv"),f=n("Rp9C"),v=n("Irs7");function C(e,t){const n=Object(v.b)(),{component:i,element:r}=t||{},o={items:[f.a.forTopic(e,t)]};return a.useEffect((()=>{n.scribe({component:i,element:r,action:"impression",data:o})}),[o,i,r,n]),{namespace:{component:i,element:r},data:o}}var E=n("MWbm");function y(e){const{onHeaderVisible:t,header:{clientEventInfo:n,topicId:i,facepile:r,landingContext:o}}=e,{namespace:s,data:c}=C(i,n);return a.createElement(E.a,{style:w.root},a.createElement(m.b,{data:c,namespace:s},a.createElement(g.a,{facepile:r,onFollowHeaderOffscreen:({isOffscreen:e})=>t(!e),topicId:i,topicLandingContext:o,withDivider:!0})))}const w=b.a.create((e=>({root:{borderBottomWidth:e.borderWidths.small,borderBottomColor:e.colors.borderColor,borderBottomStyle:"solid"}})));var I=n("3XMw"),T=n.n(I),S=n("zI2C"),_=n("v6aA"),L=n("Zejx");const k=(e,t)=>{const{navBar:{topicId:n}}=t;return L.a.select(e,n)};var x=Object(s.a)().propsFromState((()=>({topic:k}))),O=n("LWCC"),M=n("IcAo"),N=n("rJoH"),P=n("I6Uj"),A=n("zfvc");const j=e=>`https://twitter.com/i/topics/${e}`,B=e=>`twitter://topics_timeline?id=${e}`,D=T.a.ed88e742;const F=b.a.create((e=>({rightControl:{flexDirection:"row"},followButtonContainer:{justifyContent:"center",paddingEnd:e.spaces.space4}})));var H=x((function(e){const{isHeaderOffscreen:t,navBar:{topicId:n,clientEventInfo:i},pageNamespace:r,topic:o,withAppLinks:s,withOpenGraphMeta:c}=e,{featureSwitches:l}=a.useContext(_.a),p=l.isTrue("topic_landing_page_share_enabled"),{namespace:d,data:u}=C(n,i),h=Object(M.a)({},r,d);return o?a.createElement(m.b,{data:u,namespace:h},a.createElement(a.Fragment,null,c?a.createElement(N.a,{canonical:j(n),description:o.description,title:o.name,type:"article"}):null,s?a.createElement(S.a,{deepLink:B(n)}):null,a.createElement(E.a,{style:F.rightControl},a.createElement(E.a,{style:F.followButtonContainer},a.createElement(A.b,{animateMount:!0,show:t,type:"fade"},a.createElement(O.a,{size:"normal",topic:o,useDefaultText:!1}))),p?a.createElement(P.a,{copyLinkShareLabel:D,scribeNamespace:h,url:j(n)}):null))):null})),R=n("yoO3"),U=n("KEM+"),G=n.n(U),Q=n("v84o"),J=n("0KEI");const K=(e,t)=>t.initialModule.selectPageConfiguration&&t.initialModule.selectPageConfiguration(e),$=(e,t)=>{const n=t.selectedTabId,a=K(e,t);return a&&a.tabs&&a.tabs.tabs.find((e=>e.id===n))};var q=Object(s.a)().propsFromState((()=>({pageConfiguration:K,selectedTab:$}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(J.d)("RICH_SEGMENTED_TIMELINE")}))).withAnalytics(),V=n("doI8"),W=n("oQhu"),Y=n("fTQJ");class Z extends a.Component{constructor(...e){super(...e),G()(this,"_getTimelineNamespace",(()=>{const{selectedTab:e,pageConfiguration:t,analytics:n}=this.props,a=(null==e?void 0:e.scribeConfig)||(null==t?void 0:t.scribeConfig);if(a){const{entityToken:e,...t}=a;return t}return n.contextualScribeNamespace})),G()(this,"_getModule",Object(W.a)(((e,t,n,a)=>{if((null==e?void 0:e.id)!==t){if(null!=e&&e.urtEndpoint)return Object(Q.a)({urtUrl:null==e?void 0:e.urtEndpoint,timelinePrefix:a});if(null!=e&&e.graphQLTimelineId)return Object(V.a)(e.graphQLTimelineId)}return n}))),G()(this,"_getRefreshIntervalSecForCurrentTab",(()=>{var e;const{selectedTab:t,pageConfiguration:n}=this.props,a=null==n||null==(e=n.tabs)?void 0:e.initialTabId;if(t)return t.refreshIntervalSec;if(a){var i;const e=null==n||null==(i=n.tabs)?void 0:i.tabs.find((e=>a===e.id));return null==e?void 0:e.refreshIntervalSec}}))}render(){var e,t;const{entryConfiguration:n,initialModule:i,pageConfiguration:r,prerollDisplayLocation:o,refreshControl:s,renderEmptyState:c,renderUnavailable:l,selectedTab:p,timelinePrefix:d,title:u}=this.props,h={token:null==r||null==(e=r.scribeConfig)?void 0:e.entityToken},b=this._getModule(p,null==r||null==(t=r.tabs)?void 0:t.initialTabId,i,d),g=this._getRefreshIntervalSecForCurrentTab(),f=g?1e3*g:void 0;return a.createElement(m.b,{namespace:this._getTimelineNamespace()},a.createElement(Y.a,{clientEventContext:h,entryConfiguration:n,module:b,pollingIntervalMsOverride:f,prerollDisplayLocation:o,refreshControl:s,renderEmptyState:c,renderUnavailable:l,title:u}))}}var X=q(Z),z=n("ZNx0");const ee=(e,t)=>t.module.selectInitialFetchStatus(e),te=(e,t)=>t.module.selectPageConfiguration&&t.module.selectPageConfiguration(e),ne=(e,t)=>{const n=t.selectedTabId,a=te(e,t);return a&&a.tabs&&a.tabs.tabs.find((e=>e.id===n))};var ae=Object(s.a)().propsFromState((()=>({initialFetchStatus:ee,pageConfiguration:te,selectedTab:ne}))).propsFromActions((({module:e})=>({createLocalApiErrorHandler:Object(J.d)("RICH_SEGMENTED_TIMELINE"),fetchInitial:e.fetchInitial}))).withAnalytics(),ie=n("Nhmk"),re=n("k/OQ"),oe=n("G8HL");class se extends a.Component{constructor(...e){super(...e),G()(this,"_fetchPageModule",(()=>{const{analytics:e,createLocalApiErrorHandler:t,fetchInitial:n,pageConfiguration:a}=this.props,i=a?a.scribeConfig:void 0;return n().then((({performed:t})=>{t&&e.scribe({...this._getScribeNamespace(i),action:"get_initial"})}),t(ie.a))})),G()(this,"_render",(()=>{const{analytics:e,getTabLink:t,pageConfiguration:n,selectedTab:i}=this.props,r=null==n?void 0:n.tabs;if(r&&r.tabs){const o=i&&i.id||r.initialTabId,s=n?n.scribeConfig:void 0;let c;const l=r.tabs.map(((n,a)=>{var i;const r=n.id===o;return r&&(c=a),{isActive:()=>r,label:n.labelText,onClick:()=>{e.scribe(this._buildTabNamespace(this._getScribeNamespace(s),this._getScribeNamespace(n.scribeConfig)))},to:t(n.id),token:null==(i=n.scribeConfig)?void 0:i.entityToken}}));return a.createElement(z.a,{viewType:"controls"},a.createElement(re.a,{links:l,visibleItemIndex:c}))}return null}))}componentDidMount(){this._fetchPageModule()}componentDidUpdate(e){e.module===this.props.module&&this.props.initialFetchStatus||this._fetchPageModule()}render(){const{initialFetchStatus:e}=this.props;return e===o.a.LOADED?this._render():null}_buildTabNamespace(e,t){let n;return e&&(n=e),t&&(n={...n,...t}),{...n,element:"tab",action:"navigate"}}_getScribeNamespace(e){if(e){const{entityToken:t,...n}=e;return n}}}var ce=ae(Object(oe.a)(se)),le=n("VS6U"),pe=n("5Y9N"),de=n("FIs5"),ue=n("cHvH"),he=n("mw9i");const me=T.a.e9f1fbcb,be=a.createElement(i.a,null),ge=Object(W.a)(((e,t)=>({...t,...Object(pe.a)({isWide:e})}))),fe=e=>{const{TabBar:t,backLocation:n,clientEventViewType:i,entryConfiguration:r,fab:o,getTabLink:s,hasTabNavigation:c,history:l,logoButton:p,module:d,onBackClick:g,pageConfiguration:f,renderUnavailable:v,renderEmptyState:C,rightControl:E,searchBoxRef:w,selectedTabId:I,sidebarContent:T,timelinePrefix:S,title:_,initialPageNamespace:L,withBottomLoginSignupBar:k,withDeferredView:x,withSearchBox:O,withTweetButton:N,withAppLinks:P,withOpenGraphMeta:A,prerollDisplayLocation:j}=e,[B,D]=a.useState(!0),{header:F,navBar:U,title:G}=f||{},Q=G||_,J=((e,t,n)=>{const a=null==t?void 0:t.scribeConfig,{entityToken:i,...r}=a||{},o=null==t?void 0:t.tabs,s=e||(null==o?void 0:o.initialTabId),c=null==o?void 0:o.tabs.find((e=>e.id===s)),{entityToken:l,...p}=(null==c?void 0:c.scribeConfig)||{};return Object(M.a)({},n,r,p)})(I,f,L),K=F?a.createElement(y,{header:F,onHeaderVisible:D}):null,$=U?a.createElement(H,{isHeaderOffscreen:!B,navBar:U,pageNamespace:J,withAppLinks:P,withOpenGraphMeta:A}):null,q=x?u.a:a.Fragment,V=a.createElement(ue.a,null,(({windowWidth:e})=>{const t=e>=b.a.theme.breakpoints.medium;return a.createElement(a.Fragment,null,K,a.createElement(q,null,a.createElement(X,{entryConfiguration:ge(t,r),initialModule:d,prerollDisplayLocation:j,renderEmptyState:C,renderUnavailable:v,selectedTabId:I,timelinePrefix:S,title:_})))})),W=o?a.createElement(h.a,{component:he.a,fab:o},V):V,Y=s&&c?a.createElement(ce,{getTabLink:s,module:d,selectedTabId:I}):void 0;return a.createElement(m.b,{namespace:J},a.createElement(R.a,{clientEventViewType:i},a.createElement(le.a,{TabBar:t,backLocation:n,history:l,logoButton:p,onBackClick:g,primaryContent:W,rightControl:$||E,searchBoxRef:w,secondaryBar:Y,sidebarContent:T,title:B?_:Q,withBottomLoginSignupBar:k,withSearchBox:O,withTweetButton:N})))};fe.defaultProps={entryConfiguration:d.b,renderEmptyState:()=>a.createElement(de.a,{header:me}),sidebarContent:be,withDeferredView:!1,withAppLinks:!1,withOpenGraphMeta:!1};const ve=p(fe);t.a=ve},doI8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("WpDa"),i=n("ZNT5");t.b=({timelineId:e,endpointUrl:t,endpointParams:n})=>Object(i.a)({timelineId:e,getEndpoint:e=>e.URT.fetchGeneric,getEndpointParams:({cursor:e,count:a})=>({...n,cursor:"string"==typeof e?e:void 0,count:a,endpointUrl:t}),context:"FETCH_TIMELINE",perfKey:"generic"});const r=e=>Object(i.a)({timelineId:`generic-graphql-timeline-${e}`,getEndpoint:e=>e.Graphql.fetchGenericTimelineById,getEndpointParams:({cursor:t,count:n})=>({cursor:"string"==typeof t?t:void 0,count:n,timelineId:e}),formatResponse:a.a,context:"FETCH_GENERIC_TIMELINE_GQL",perfKey:"genericGQL"})},v84o:function(e,t,n){"use strict";var a=n("180P"),i=n("doI8");t.a=({urtUrl:e,timelinePrefix:t="generic-timeline-"})=>{const{urtEndpointOptions:n,url:r}=e,{requestParams:o,cacheId:s}=n||{};return Object(i.b)({timelineId:s||`${t}${Object(a.a)(e)}`,endpointUrl:r,endpointParams:o||{}})}}}]);
//# sourceMappingURL=https://ton.twitter.com/responsive-web-internal/sourcemaps/client-web/shared~bundle.Birdwatch~bundle.Explore~bundle.Topics.b0175e55.js.map