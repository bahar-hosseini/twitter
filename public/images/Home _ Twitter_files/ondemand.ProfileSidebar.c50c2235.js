(window.webpackJsonp=window.webpackJsonp||[]).push([[191],{hIbf:function(e,t,a){"use strict";a.r(t),a.d(t,"ProfileSidebarContainer",(function(){return U})),a.d(t,"toRelativePath",(function(){return k}));var i=a("KEM+"),r=a.n(i),s=(a("kYxP"),a("MvUL"),a("ERkP")),o=a("k49u"),d=a("es0u"),n=a("hqKg"),c=a("8UdT"),l=a("FLCi"),p=a("P1r1"),h=a("wrlS"),m=a("XOJV"),u=a("YjVx");const I=(e,t)=>Object(u.a)(e,t),b=[],f=Object(n.createSelector)(((e,t)=>I(Object(h.c)(e),t).selectEntries(e)),m.a.createHydratedSelector,p.l,((e,t,a)=>Object(l.a)(e,(e=>{const i=e.type===c.b.Tweet&&t(e.content.id);return!i||i.tombstoneInfo||i.isDeleted||i.possibly_sensitive&&!a||!i.extended_entities||!i.extended_entities.media?b:i.extended_entities.media.map((t=>({mediaItem:t,entry:e})))})))),w=(e,t)=>I(e,t).fetchInitial();var M=a("MDbM"),g=a("rxPX"),S=a("0KEI");const x=(e,t)=>f(e,t.userId),E=(e,t)=>t.hideMediaModule?M.a.LOADED:((e,t)=>I(Object(h.c)(e),t).selectInitialFetchStatus(e))(e,t.userId)||M.a.LOADING;var _=Object(g.a)().propsFromState((()=>({mediaItemsWithEntry:x,mediaFetchStatus:E}))).adjustStateProps((({mediaItemsWithEntry:e,mediaFetchStatus:t})=>({mediaItems:e.map((e=>({...e.mediaItem}))),mediaItemsWithEntry:e,mediaFetchStatus:t}))).propsFromActions((()=>({createLocalApiErrorHandler:Object(S.d)("PROFILE_SIDE_BAR"),fetchRecentMediaIfNeeded:w}))),y=a("kGix"),A=a("3XMw"),L=a.n(A),O=a("fs1G"),R=a("q2Cp"),v=a("Qwev"),F=a("rHpw"),P=a("3dad"),j=a("v6aA");const C=L.a.b327c129,D={[o.a.NotAuthorizedToViewUser]:{customAction:O.a}};class U extends s.Component{constructor(...e){super(...e),r()(this,"_fetchRecentUserMedia",(()=>{const{createLocalApiErrorHandler:e,fetchRecentMediaIfNeeded:t,hideMediaModule:a,userId:i}=this.props;!a&&t(this.context.featureSwitches,i).catch(e(D))}))}componentDidUpdate(e){e.userId===this.props.userId&&e.hideMediaModule===this.props.hideMediaModule||this._fetchRecentUserMedia()}componentDidMount(){this._fetchRecentUserMedia()}render(){const{mediaFetchStatus:e}=this.props;return e&&e!==y.a.LOADING?this._renderSidebar():s.createElement(v.a,{accessibilityLabel:"Loading profile sidebar"})}_renderSidebar(){const{hideMediaModule:e,userId:t,userScreenName:a,withTopicsToFollow:i}=this.props,r=this._getImages();return s.createElement(d.a,{profileScreenName:a,profileUserId:t,withTopicsToFollow:i},r.length>=2&&!e?s.createElement(R.a,{cacheLocationKey:"profileSidebar",images:r,singleImageMaxAspectRatio:F.a.theme.aspectRatios.landscape,singleImageMinAspectRatio:F.a.theme.aspectRatios.landscape}):null)}_getImages(){const{mediaItems:e,mediaItemsWithEntry:t}=this.props;return t.map(((t,a)=>{var i;const{mediaItem:r,entry:s}=t,o={pathname:k(r.expanded_url),state:{mediaItems:{items:e,index:a},forwardPivotInfo:null==(i=s.content)?void 0:i.forwardPivot}},d=P.a.getOriginalImage(r);return d&&{width:d.width,height:d.height,url:d.url,backgroundColor:P.a.getBackgroundColor(r),cropCandidates:P.a.getCropCandidates(r),accessibilityLabel:r.ext_alt_text||C,shouldShowAltLabel:!1,expandedUrl:o}})).filter(Boolean)}}r()(U,"contextType",j.a);const k=e=>e.replace("https://twitter.com",""),T=_(U);t.default=T}}]);
//# sourceMappingURL=https://ton.local.twitter.com/responsive-web-internal/sourcemaps/client-web/ondemand.ProfileSidebar.c50c2235.js.map